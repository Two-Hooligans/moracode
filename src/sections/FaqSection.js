import { useState } from "react";
import faqs from "../data/faq";

export default function FaqSection() {
  const [open, setOpen] = useState(0);

  return (
    <section className="bg-[#DDDDDD] border border-gray-400 py-20 md:px-4 px-4" id="faq">
      <div className="w-full mx-auto">
        <div className="flex justify-between items-center mb-24">
          <h2 className="mb-8 md:text-[42px] text-[32px] text-[#252525]">FAQ</h2>
          <svg
            width="218"
            height="104"
            viewBox="0 0 218 104"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M62.0043 90.3318C64.1665 90.3319 65.8519 92.1157 65.8519 94.1804V99.6521C65.8517 101.806 64.1585 103.5 62.0043 103.5H41.9965C39.8422 103.5 38.1481 101.806 38.1478 99.6521V94.1804C38.1478 92.026 39.842 90.3318 41.9965 90.3318H62.0043Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M62.0043 0.5C64.1586 0.500085 65.8519 2.19425 65.8519 4.34863V9.82031C65.8517 11.9745 64.1585 13.6679 62.0043 13.668H41.9965C39.8422 13.668 38.1481 11.9745 38.1478 9.82031V4.34863C38.1478 2.19419 39.842 0.5 41.9965 0.5H62.0043Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M86.2322 72.0215C87.734 70.5201 90.1738 70.5199 91.6755 72.0215L95.5955 75.9414C97.0974 77.4433 97.0974 79.8838 95.5955 81.3857L81.4675 95.5137C79.9656 97.0156 77.5251 97.0156 76.0232 95.5137L72.1033 91.5938C70.6017 90.092 70.6018 87.6523 72.1033 86.1504L86.2322 72.0215Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M22.6147 8.48584C24.1166 6.98443 26.5563 6.98429 28.058 8.48584L31.978 12.4058C33.4799 13.9077 33.4799 16.3482 31.978 17.8501L17.85 31.978C16.3481 33.4799 13.9076 33.4799 12.4057 31.978L8.48578 28.0581C6.98422 26.5563 6.98434 24.1166 8.48578 22.6147L22.6147 8.48584Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M99.6512 38.1477C101.806 38.1477 103.5 39.8419 103.5 41.9963V62.0042C103.5 64.1585 101.806 65.8518 99.6512 65.8518H94.1805C92.0261 65.8518 90.332 64.1585 90.3319 62.0042V41.9963C90.3319 39.834 92.1157 38.1477 94.1805 38.1477H99.6512Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M9.81934 38.1477C11.9738 38.1477 13.668 39.8419 13.668 41.9963V62.0042C13.6679 64.1585 11.9737 65.8518 9.81934 65.8518H4.34863C2.19424 65.8518 0.500086 64.1585 0.5 62.0042V41.9963C0.5 39.8419 2.19418 38.1477 4.34863 38.1477H9.81934Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M75.9424 8.4043C77.4443 6.90291 79.884 6.90273 81.3857 8.4043L95.5137 22.5332C97.0154 24.0351 97.0155 26.4747 95.5137 27.9766L91.5938 31.8965C90.0919 33.3983 87.6523 33.3982 86.1504 31.8965L72.0215 17.7686C70.5197 16.2666 70.5196 13.8261 72.0215 12.3242L75.9424 8.4043Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M12.4057 72.0215C13.9076 70.5196 16.3481 70.5197 17.85 72.0215L31.978 86.1504C33.4797 87.6523 33.4798 90.0919 31.978 91.5938L28.058 95.5137C26.5562 97.0155 24.1166 97.0154 22.6147 95.5137L8.48578 81.3857C6.984 79.8838 6.98391 77.4433 8.48578 75.9414L12.4057 72.0215Z"
              fill="#D2F944"
              stroke="#747474"
            />
            <path
              d="M176.004 90.3318C178.167 90.3319 179.852 92.1157 179.852 94.1804V99.6521C179.852 101.806 178.158 103.5 176.004 103.5H155.996C153.842 103.5 152.148 101.806 152.148 99.6521V94.1804C152.148 92.026 153.842 90.3318 155.996 90.3318H176.004Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
            <path
              d="M176.004 0.5C178.159 0.500085 179.852 2.19425 179.852 4.34863V9.82031C179.852 11.9745 178.158 13.6679 176.004 13.668H155.996C153.842 13.668 152.148 11.9745 152.148 9.82031V4.34863C152.148 2.19419 153.842 0.5 155.996 0.5H176.004Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
            <path
              d="M200.232 72.0215C201.734 70.5201 204.174 70.5199 205.676 72.0215L209.595 75.9414C211.097 77.4433 211.097 79.8838 209.595 81.3857L195.468 95.5137C193.966 97.0156 191.525 97.0156 190.023 95.5137L186.103 91.5938C184.602 90.092 184.602 87.6523 186.103 86.1504L200.232 72.0215Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
            <path
              d="M136.615 8.48584C138.117 6.98443 140.556 6.98429 142.058 8.48584L145.978 12.4058C147.48 13.9077 147.48 16.3482 145.978 17.8501L131.85 31.978C130.348 33.4799 127.908 33.4799 126.406 31.978L122.486 28.0581C120.984 26.5563 120.984 24.1166 122.486 22.6147L136.615 8.48584Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
            <path
              d="M213.651 38.1477C215.806 38.1477 217.5 39.8419 217.5 41.9963V62.0042C217.5 64.1585 215.806 65.8518 213.651 65.8518H208.181C206.026 65.8518 204.332 64.1585 204.332 62.0042V41.9963C204.332 39.834 206.116 38.1477 208.181 38.1477H213.651Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
            <path
              d="M123.819 38.1477C125.974 38.1477 127.668 39.8419 127.668 41.9963V62.0042C127.668 64.1585 125.974 65.8518 123.819 65.8518H118.349C116.194 65.8518 114.5 64.1585 114.5 62.0042V41.9963C114.5 39.8419 116.194 38.1477 118.349 38.1477H123.819Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
            <path
              d="M189.942 8.4043C191.444 6.90291 193.884 6.90273 195.386 8.4043L209.514 22.5332C211.015 24.0351 211.016 26.4747 209.514 27.9766L205.594 31.8965C204.092 33.3983 201.652 33.3982 200.15 31.8965L186.021 17.7686C184.52 16.2666 184.52 13.8261 186.021 12.3242L189.942 8.4043Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
            <path
              d="M126.406 72.0215C127.908 70.5196 130.348 70.5197 131.85 72.0215L145.978 86.1504C147.48 87.6523 147.48 90.0919 145.978 91.5938L142.058 95.5137C140.556 97.0155 138.117 97.0154 136.615 95.5137L122.486 81.3857C120.984 79.8838 120.984 77.4433 122.486 75.9414L126.406 72.0215Z"
              fill="#D3D1D1"
              stroke="#747474"
            />
          </svg>
        </div>
        <div className="space-y-2">
          {faqs.map((faq, i) => (
            <div key={i} className="border-b border-gray-300">
              <div className="flex items-start justify-between py-4 mb-8">
                <div className="md:text-2xl text-lg uppercase text-[#252525] md:max-w-full max-w-xs">
                  {faq.question}
                </div>
                <button
                  className={`ml-4 flex items-center justify-center rounded-full border transition-colors duration-200
                    ${
                      open === i
                        ? "bg-[#252525] text-[#D2F944]"
                        : "bg-[#D2F944] border-[#252525] text-[#252525]"
                    }
                  `}
                  style={{
                    width: 32,
                    height: 32,
                    fontSize: 22,
                    fontWeight: "bold",
                  }}
                  onClick={() => setOpen(open === i ? null : i)}
                  aria-label={open === i ? "Collapse" : "Expand"}
                >
                  {open === i ? "âˆ’" : "+"}
                </button>
              </div>
              {open === i && (
                <div
                  className="prose prose-sm text-[#252525] pb-6 md:w-2/4"
                  dangerouslySetInnerHTML={{ __html: faq.answer }}
                />
              )}
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}
